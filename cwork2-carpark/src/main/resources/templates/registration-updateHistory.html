<!DOCTYPE html>
<html
        lang="en"
        xmlns:th="http://www.thymeleaf.org"
        xmlns="http://www.w3.org/1999/html"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout.html}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>


<body layout:fragment="body">

<ul  class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="pills-home-tab" data-toggle="pill" th:href="@{/car-park/{registrationId}/update(registrationId=${registration.getRegistrationId()})}" role="tab" aria-controls="pills-home" aria-selected="true">UPDATE</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="pills-profile-tab" data-toggle="pill" th:href="@{/car-park/{registrationId}/history(registrationId=${registration.getRegistrationId()})}" role="tab" aria-controls="pills-profile" aria-selected="true">HISTORY</a>
    </li>

</ul>



<div class="tab-content" id="pills-tabContent">

    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">



            <div class="container col">
                <form  th:method="post"  th:action="@{/car-park/{registrationId}/update(registrationId=${registration.getRegistrationId()})}" th:object="${registration}">

                    <div class="form-group">
                        <label for="FirstName">First Name:</label>

                        <input id="FirstName"
                               class="form-control"
                               th:field="*{driverFirstName}"
                               type="text" required
                               autofocus="autofocus">


                    </div>

                    <div class="form-group">
                        <label for="LastName">Last Name:</label>

                        <input id="LastName"
                               class="form-control"
                               th:field="*{driverLastName}"
                               type="text" required
                               autofocus="autofocus">


                    </div>


                    <div class="form-group">
                        <label for="NumberPlate">Car Number Plate</label>

                        <input id="NumberPlate"
                               class="form-control"
                               th:field="*{carNumberPlate}"
                               type="text" required
                               autofocus="autofocus">

                    </div>


                    <div class="form-group">
                        <label for="startTime">Start time</label>
                        <input id="startTime"
                               class="form-control"
                               th:field="*{starTime}"
                               type="datetime-local" required
                               autofocus="autofocus">

                    </div>

                    <div class="form-group">
                        <label for="endTime">End time</label>
                        <input id="endTime"
                               class="form-control"
                               th:field="*{finishTime}"
                               type="datetime-local" required
                               autofocus="autofocus">

                    </div>

                    <div class="form-group">
                        <label for="Comments">Additional Comments</label>

                        <input id="Comments"
                               class="form-control"
                               th:field="*{additionalComments}"
                               type="text" required
                               autofocus="autofocus">

                    </div>

                    <div class="form-group mt-3">
                        <button type="submit" class="btn btn-success">Register</button>
                        <button type="reset" class="btn btn-danger">Cancel</button>

                    </div>

                </form>
            </div>



    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">

        <div class="container">


            <table class="table table-bordered table-striped" >
                <thead class="">
                <tr>
                    <th>FirstName</th>
                    <th>LastName</th>
                    <th>CarNumberPlate</th>
                    <th>Duration</th>
                    <th>StartTime</th>
                    <th>FinishTime</th>
                </tr>
                </thead>
                <tbody id="myTable">


                <tr th:each=" registrationH :${registrationHistory}">
                    <td th:text="${registrationH.getDriverLastName()}"></td>
                    <td th:text="${registrationH.getCarNumberPlateHistory()}"></td>
                    <td th:text="${registrationH.getDuration()}"></td>
                    <td th:text="${registrationH.getStarTime()}"></td>
                    <td th:text="${registrationH.finishTime}"></td>

                </tr>

                </tbody>
            </table>


        </div >

        </div>
    </div>
</div>


</body>
</html>